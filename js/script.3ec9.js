!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),window.onload=function(){function a(a){-1!=b.className.indexOf("slideIn")?b.className=b.className.replace(" slideIn",""):b.className=b.className+" slideIn"}var b=document.getElementById("sidebar"),c=document.getElementById("sidebar-button");c.addEventListener("click",a,!1)},function(a,b){var c,d=function(a,b){return function(){return a.apply(b,arguments)}};c=function(){function b(b,c){var e=this;this.element=b,this.dataStore=c.dataStore,this.start=d(this.start,this),this.stop=d(this.stop,this),this.complete=d(this.complete,this),this.undo=d(this.undo,this),a(document).on("touchstart",this.element,this.start),a(document).on("touchend",this.element,this.stop),this.element.mouseenter(this.start),this.element.mouseleave(this.stop),this.element.click(this.undo),this.render(),this.$counter=this.element.find(".count .num"),this.dataStore.hasVoted().then(function(a){a&&e.element.addClass("complete")}),this.dataStore.onKudoUpdates(function(a){e.setCount(a)})}document.location.pathname;return b.prototype.render=function(){var b=a('<a class="kudobject"><div class="opening"><div class="circle">&nbsp;</div></div></a><a href="#kudo" class="count"><span class="num">0</span><span class="txt">Kudos</span></a>');this.element.append(b)},b.prototype.start=function(){this.isKudoed()||(this.element.addClass("active"),this.activationTimer=setTimeout(this.complete,700))},b.prototype.stop=function(){clearTimeout(this.activationTimer),this.element.removeClass("active")},b.prototype.complete=function(){this.stop(),this.dataStore.addKudo(),this.element.addClass("complete")},b.prototype.undo=function(){this.isKudoed()&&(this.dataStore.removeKudo(),this.element.removeClass("complete"))},b.prototype.currentCount=function(){var a=parseInt(this.$counter.html(),10);return isNaN(a)&&(a=0),a},b.prototype.isKudoed=function(){return this.element.hasClass("complete")},b.prototype.setCount=function(a){this.$counter.html(a)},b}(),a(function(){a.fn.kudoable=function(b){return this.each(function(){return new c(a(this),b)})}})}(jQuery),function(a,b){var c=new Firebase("https://aliirz.firebaseio.com/"),d=c.child("kudos"),e=document.location.pathname.replace(/[\/-]/g,""),f=function(){var a=$.Deferred(),b=c.getAuth();return null==b?c.authAnonymously(function(b,c){a.resolve(c)}):a.resolve(b),a.promise()};""===e&&(e="localhost");var g=function(){var a=$.Deferred();return f().then(function(b){d.child(e).child("likes").child(b.uid).once("value",function(b){a.resolve(null!==b.val())})}),a.promise()},h=function(){f().then(function(a){d.child(e).child("likes").child(a.uid).set({count:1})})},i=function(){f().then(function(a){d.child(e).child("likes").child(a.uid).remove()})},j=function(a){d.child(e).on("value",function(b){if(b){var c=b.val(),d=0;if(c)for(var e in c.likes)d++;a(d)}})},k={hasVoted:g,addKudo:h,removeKudo:i,onKudoUpdates:j};a.firebaseStorage=k}(window);